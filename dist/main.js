(()=>{"use strict";var n={28:(n,e,t)=>{t.d(e,{Z:()=>s});var o=t(81),a=t.n(o),r=t(645),i=t.n(r)()(a());i.push([n.id,"* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  font-family: 'Poppins', sans-serif;\n}\n\n.container {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  column-gap: 20px;\n  row-gap: 20px;\n  padding: 10px;\n  background-color: black;\n}\n\n.card {\n  width: 80%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background-color: wheat;\n  padding: 10px;\n  box-shadow: 5px 10px 10px lightseagreen;\n}\n\n.card img {\n  margin-bottom: 10px;\n}\n\n.modal img {\n  width: 100%;\n  height: 100%;\n  object-fit: fill;\n}\n\n.card img:hover {\n  transition: transform 0.5s;\n  transform: scale(1.05);\n}\n\n.info-container {\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.header-container {\n  position: sticky;\n  top: 0;\n  width: 100%;\n  background-color: rgb(58, 150, 150);\n}\n\n.navigation {\n  width: 100%;\n  display: flex;\n  justify-content: space-around;\n}\n\n.nav-list {\n  font-family: 'Varela Round', sans-serif;\n  width: 40%;\n  display: flex;\n  list-style: none;\n  padding: 0.8%;\n  justify-content: space-between;\n  color: aliceblue;\n  cursor: pointer;\n}\n\n::-webkit-scrollbar {\n  width: 10px;\n}\n\n::-webkit-scrollbar-track {\n  box-shadow: inset 0 0 5px grey;\n  border-radius: 10px;\n}\n\n::-webkit-scrollbar-thumb {\n  background: lightskyblue;\n  border-radius: 10px;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: darkblue;\n}\n\n.nav-list :hover {\n  color: bisque;\n}\n\n.my-logo {\n  margin-left: 10px;\n  margin-top: 15px;\n  text-decoration: none;\n  font-family: 'Rubik Beastly', cursive;\n}\n\nfooter {\n  width: 100%;\n  padding: 0.8%;\n  background-color: rgb(58, 150, 150);\n  position: sticky;\n  bottom: 0;\n  font-family: Verdana, Geneva, Tahoma, sans-serif;\n  color: aliceblue;\n  text-justify: auto;\n}\n\n.my-footer {\n  display: flex;\n  justify-content: left;\n  margin-left: 120px;\n}\n\n#popup {\n  display: none;\n}\n\n#popup.active {\n  display: block;\n}\n\n#popup .overaly {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.7);\n  z-index: 1;\n}\n\n#popup .overaly.hidden {\n  display: none;\n}\n\n#popup .content {\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  top: 100%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  -webkit-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  background-color: #f5c33b;\n  color: #fa383e;\n  width: 600px;\n  z-index: 2;\n  padding: 20px;\n  border-radius: 5%;\n  -webkit-border-radius: 5%;\n  -moz-border-radius: 5%;\n  -ms-border-radius: 5%;\n  -o-border-radius: 5%;\n}\n\n#popup .content.hidden {\n  display: none;\n}\n\n#popup .content .close-btn {\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n  font-size: 24px;\n  font-weight: 900;\n  cursor: pointer;\n}\n\n#thumbnail img {\n  height: 100%;\n  width: 100%;\n  object-fit: fill;\n}\n\n#popup .content .reservation-num {\n  display: flex;\n  justify-content: center;\n  font-weight: 900;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  color: #ff1018;\n}\n\n#popup .content .allcomments {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  overflow: scroll;\n  overflow-x: hidden;\n  height: 100px;\n}\n\n#popup .content .allcomments p {\n  display: flex;\n  flex-direction: column;\n  width: 50%;\n  padding: 1%;\n  color: black;\n  font-size: 16px;\n  font-weight: bold;\n}\n\n#popup .content .form_title {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  color: #ff1018;\n}\n\n#popup .content .form_x {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.movie-image {\n  height: 100%;\n  width: 100%;\n  object-fit: fill;\n}\n\n.modal {\n  display: none;\n  position: fixed;\n  justify-content: center;\n  align-items: center;\n  z-index: 1;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  opacity: 100%;\n}\n\n.modal-content {\n  background-color: wheat;\n  z-index: 98;\n  align-items: center;\n  border: 2px solid #fff;\n  margin: 1.5% auto;\n  padding: 20px;\n  width: 80%;\n  height: 90%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  border-radius: 2%;\n}\n\n#thumbnail {\n  width: 50%;\n  height: 50%;\n}\n\n.modal-content .closeButton {\n  align-self: flex-end;\n  cursor: pointer;\n}\n\n.modal-content h2 {\n  font-size: 25px;\n  text-align: center;\n  color: black;\n}\n\n.movie-info {\n  width: 50%;\n  display: grid;\n  text-align: left;\n  grid-template-columns: repeat(2, 1fr);\n  list-style: none;\n}\n\ntextarea {\n  resize: none;\n}\n\n#comments {\n  overflow: auto;\n  width: 50%;\n}\n\n#comment-form {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n#comment-form input {\n  margin: 5px 0;\n}\n\n.app-title {\n  display: flex;\n  justify-content: space-between;\n  padding: 20px;\n  align-items: center;\n}\n\n.items-count {\n  font-weight: bold;\n  font-size: larger;\n}\n\n#reservations {\n  overflow: auto;\n  width: 50%;\n}\n\n#reservation-form {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n#reservation-form input {\n  margin: 5px 0;\n}\n\n.fa-heart {\n  cursor: pointer;\n}\n\n.res-modal {\n  display: none;\n  position: fixed;\n  justify-content: center;\n  align-items: center;\n  z-index: 1;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  opacity: 100%;\n}\n\n.res-modal-content {\n  background-color: wheat;\n  z-index: 98;\n  align-items: center;\n  border: 2px solid #fff;\n  margin: 1.5% auto;\n  padding: 20px;\n  width: 80%;\n  height: 90%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  border-radius: 2%;\n}\n\n#res-thumbnail {\n  width: 50%;\n  height: 50%;\n}\n\n#res-thumbnail img {\n  width: 100%;\n  height: 100%;\n  object-fit: fill;\n}\n\n#res-modalCloseButton {\n  align-self: flex-end;\n  cursor: pointer;\n}\n\n.res-modal-content h2 {\n  font-size: 25px;\n  text-align: center;\n  color: white;\n}\n\n.res-movie-info {\n  width: 50%;\n  display: grid;\n  text-align: left;\n  grid-template-columns: repeat(2, 1fr);\n  list-style: none;\n}\n\nbutton {\n  background: lightskyblue;\n  color: gray;\n  font-size: 16px;\n  border-radius: 10px;\n  margin: 5px 0;\n  cursor: pointer;\n}\n\nbutton:hover {\n  background: darkblue;\n  color: white;\n}\n",""]);const s=i},645:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",o=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),o&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),o&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,o,a,r){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(o)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(i[l]=!0)}for(var c=0;c<n.length;c++){var d=[].concat(n[c]);o&&i[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),e.push(d))}},e}},81:n=>{n.exports=function(n){return n[1]}},379:n=>{var e=[];function t(n){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===n){t=o;break}return t}function o(n,o){for(var r={},i=[],s=0;s<n.length;s++){var l=n[s],c=o.base?l[0]+o.base:l[0],d=r[c]||0,u="".concat(c," ").concat(d);r[c]=d+1;var p=t(u),m={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)e[p].references++,e[p].updater(m);else{var f=a(m,o);o.byIndex=s,e.splice(s,0,{identifier:u,updater:f,references:1})}i.push(u)}return i}function a(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,a){var r=o(n=n||[],a=a||{});return function(n){n=n||[];for(var i=0;i<r.length;i++){var s=t(r[i]);e[s].references--}for(var l=o(n,a),c=0;c<r.length;c++){var d=t(r[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}r=l}}},569:n=>{var e={};n.exports=function(n,t){var o=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},216:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},565:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},795:n=>{n.exports=function(n){var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,a&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var r=t.sourceMap;r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(o,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},589:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},e={};function t(o){var a=e[o];if(void 0!==a)return a.exports;var r=e[o]={id:o,exports:{}};return n[o](r,r.exports,t),r.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n=t(379),e=t.n(n),o=t(795),a=t.n(o),r=t(569),i=t.n(r),s=t(565),l=t.n(s),c=t(216),d=t.n(c),u=t(589),p=t.n(u),m=t(28),f={};f.styleTagTransform=p(),f.setAttributes=l(),f.insert=i().bind(null,"head"),f.domAPI=a(),f.insertStyleElement=d(),e()(m.Z,f),m.Z&&m.Z.locals&&m.Z.locals;const h="https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps",y="WJ94PTIw3sHPQ1asnzBz",g=" https://api.tvmaze.com/shows",v=async n=>{const e=await fetch(`${g}/${n}`);return await e.json()},b="https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps",x=document.querySelector("#modal"),w=document.querySelector("#modalCloseButton"),k=document.getElementById("comment-form"),T=document.getElementById("insights"),j=document.getElementById("name");w.addEventListener("click",(()=>{document.body.style.overflow="visible",x.style.display="none",window.location.reload()}));const S="https://us-central1-involvement-api.cloudfunctions.net/capstoneApi/apps",$=document.querySelector("#resmodal"),E=document.querySelector("#res-modalCloseButton"),z=document.getElementById("reservation-form"),I=document.getElementById("start-date"),L=document.getElementById("end-date"),B=document.getElementById("res-name");E.addEventListener("click",(()=>{document.body.style.overflow="visible",$.style.display="none",window.location.reload()}));const M=document.querySelector(".container"),q=document.querySelector(".items-count");window.onload=()=>{(async()=>{const n=await fetch(g);return(await n.json()).slice(0,52)})().then((n=>{(async()=>{const n=await fetch(`${h}/${y}/likes`);return await n.json()})().then((e=>{if(n.forEach((n=>{M.innerHTML+=(({item:n,likes:e})=>{const{image:t,id:o}=n,a=e.find((n=>n.item_id===o));return`<div class="card">\n      <img src=${t?.original} class="movie-image" alt="cover"/>\n      <div class="info-container">\n      <i class="fa fa-heart" data-modal=${o}></i>\n     <span class="like-span">${a?a.likes:0}</span>\n      </div>\n      <button class="comment" data-modal=${o}>Comment</button>\n      <button data-modal=${o} type="button" class="reserve">Reservation</button>\n      </div>`})({item:n,likes:e})})),M.children){const n=(t=M)?t.childElementCount:0;q.innerHTML=`${n} &nbsp; items listed`}var t;document.querySelectorAll(".fa-heart").forEach((n=>{n.addEventListener("click",(async()=>{try{(async n=>{const e=await fetch(`${h}/${y}/likes`,{method:"POST",body:JSON.stringify({item_id:n}),headers:{"Content-Type":"application/json"}});await e.json()})(Number(n.dataset.modal))}catch(n){console.log(n)}setTimeout((()=>{window.location.reload(1)}),1500)}))})),document.querySelectorAll(".comment").forEach((n=>{n.addEventListener("click",(()=>{var e;e=n.dataset.modal,v(e).then((n=>{document.body.style.overflow="hidden";const t=new Image;t.src=n.image.original;const o=document.getElementById("modalTitle"),a=document.getElementById("thumbnail"),r=document.querySelector(".info1"),i=document.querySelector(".info2"),s=document.querySelector(".info3"),l=document.querySelector(".info4"),c=document.getElementById("comments"),d=document.querySelector(".comments-title");a.appendChild(t),o.innerText=n?.name,r.innerHTML=`Language :${n.language}`,i.innerHTML=`Rating :${n.rating.average}`,s.innerHTML=`Status :${n.status}`,l.innerHTML=`Run Time :${n.averageRuntime} min`,x.style.display="block",(async n=>{const e=await fetch(`${b}/WJ94PTIw3sHPQ1asnzBz/comments?item_id=${n}`);return await e.json()})(e).then((n=>{n.map((n=>{const e=`<div class="commnet-row">\n        <span>${n.creation_date}</span>\n        <span>${n.username}:</span>\n        <span>${n.comment}</span>\n        </div>`;return c.insertAdjacentHTML("beforeend",e)}));const e=(t=c)?t.childElementCount:0;var t;d.innerHTML=`Comments (${e})`})),k.addEventListener("submit",(n=>{if(n.preventDefault(),j.value&&T.value)try{(async(n,e,t)=>{const o=await fetch(`${b}/WJ94PTIw3sHPQ1asnzBz/comments`,{method:"POST",body:JSON.stringify({item_id:n,username:e,comment:t}),headers:{"Content-Type":"application/json"}});await o.json()})(e,j.value,T.value),j.value="",T.value="",setTimeout((()=>{alert("you should re-open movie modal to see your comment")}),1e3)}catch(n){console.log(n)}}))}))}))})),document.querySelectorAll(".reserve").forEach((n=>{n.addEventListener("click",(()=>{var e;e=n.dataset.modal,v(e).then((n=>{document.body.style.overflow="hidden";const t=new Image;t.src=n.image.original;const o=document.getElementById("res-modalTitle"),a=document.getElementById("res-thumbnail"),r=document.querySelector(".res-info1"),i=document.querySelector(".res-info2"),s=document.querySelector(".res-info3"),l=document.querySelector(".res-info4"),c=document.getElementById("reservations"),d=document.querySelector(".reservations-title");a.appendChild(t),o.innerText=n?.name,r.innerHTML=`Language :${n.language}`,i.innerHTML=`Rating :${n.rating.average}`,s.innerHTML=`Status :${n.status}`,l.innerHTML=`Run Time :${n.averageRuntime} min`,$.style.display="block",(async n=>{const e=await fetch(`${S}/WJ94PTIw3sHPQ1asnzBz/reservations?item_id=${n}`);return await e.json()})(e).then((n=>{n.map((n=>{const e=`<div class='reserve-row'>\n        <span>${n.username} &ensp;</span>\n        <span>start :${n.date_start}&ensp;</span>\n        <span>end :${n.date_end}</span>\n        </div>`;return c.insertAdjacentHTML("beforeend",e)}));const e=(t=c)?t.childElementCount:0;var t;d.innerHTML=`reservations (${e})`})),z.addEventListener("submit",(n=>{if(n.preventDefault(),B.value&&I.value&&L.value)try{(async(n,e,t,o)=>{const a=await fetch(`${S}/WJ94PTIw3sHPQ1asnzBz/reservations`,{method:"POST",body:JSON.stringify({item_id:n,username:e,date_start:t,date_end:o}),headers:{"Content-Type":"application/json"}});await a.json()})(e,B.value,I.value,L.value),B.value="",I.value="",L.value="",setTimeout((()=>{alert("you should re-open movie modal to see your reservation")}),1e3)}catch(n){console.log(n)}}))}))}))}))}))}))}})()})();